<?php

/**
 * declare(strict_types=1); missing by design
 * This file is generated by kanti/json-to-class
 */

namespace Kanti\JsonToClass\Dto;

use Kanti\JsonToClass\Transformer\Transformer;
use Kanti\JsonToClass\Transformer\TransformerInstance;

final readonly class Data
{
    /**
     * @param Property|list<Property1>|string|int|null $property
     */
    public function __construct(
        public Property|array|string|int|null $property = null,
    ) {}

    /**
     * @param array<string, mixed> $data
     */
    public static function from(array $data, Transformer $transformer): self
    {
        return new self(...self::getTransformer($transformer, $data));
    }

    public static function getTransformer(Transformer $transformer, array $data): TransformerInstance
    {
        return $transformer
            ->for($data)
            ->property('property', [Property::class, 'string', 'int', 'null', [Property1::class]])
            ->class('property');
    }
}
